"use strict";(self.webpackChunklearnlao=self.webpackChunklearnlao||[]).push([[660],{5660:(y,d,s)=>{s.r(d),s.d(d,{ProgressComponent:()=>I});var m=s(9772),c=s(177),e=s(4438),f=s(467),p=s(1531),l=s(6885),v=s(6648);let u=(()=>{class t{constructor(){this.TOTAL_WORDS=2e3}getStats(){return(0,v.H)(this.calculateStats())}calculateStats(){var n=this;return(0,f.A)(function*(){const r=yield p.db.progress.toArray(),o={learning:r.filter(i=>i.state===l.Uw.Learning).length,review:r.filter(i=>i.state===l.Uw.Review).length,relearning:r.filter(i=>i.state===l.Uw.Relearning).length},g=o.learning+o.review+o.relearning,w=n.TOTAL_WORDS-g,R=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((i,T)=>({day:i,count:0}));return{overall:{activePercent:g/n.TOTAL_WORDS*100,grayPercent:100-g/n.TOTAL_WORDS*100},states:[{label:"Mastered",val:o.review,color:"mastered"},{label:"Learning",val:o.learning,color:"learning"},{label:"Lapses",val:o.relearning,color:"lapses"},{label:"Unseen",val:w,color:"unseen"}],weekly:R}})()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function b(t,a){if(1&t&&e.nrm(0,"div",24),2&t){const n=e.XpG().ngIf,r=e.XpG();e.xc7("width",r.getBarWidth(n.states[0].val,2e3),"%")}}function h(t,a){if(1&t&&e.nrm(0,"div",25),2&t){const n=e.XpG().ngIf,r=e.XpG();e.xc7("width",r.getBarWidth(n.states[1].val,2e3),"%")}}function _(t,a){if(1&t&&e.nrm(0,"div",26),2&t){const n=e.XpG().ngIf,r=e.XpG();e.xc7("width",r.getBarWidth(n.states[2].val,2e3),"%")}}function C(t,a){if(1&t&&e.nrm(0,"div",27),2&t){const n=e.XpG().ngIf,r=e.XpG();e.xc7("width",r.getBarWidth(n.states[3].val,2e3),"%")}}function P(t,a){if(1&t&&(e.j41(0,"div",28),e.nrm(1,"span",29),e.j41(2,"span",12),e.EFF(3),e.k0s()()),2&t){const n=e.XpG().ngIf;e.R7$(3),e.Lme("",n.states[0].label,": ",n.states[0].val,"")}}function x(t,a){if(1&t&&(e.j41(0,"div",28),e.nrm(1,"span",30),e.j41(2,"span",12),e.EFF(3),e.k0s()()),2&t){const n=e.XpG().ngIf;e.R7$(3),e.Lme("",n.states[1].label,": ",n.states[1].val,"")}}function O(t,a){if(1&t&&(e.j41(0,"div",28),e.nrm(1,"span",31),e.j41(2,"span",12),e.EFF(3),e.k0s()()),2&t){const n=e.XpG().ngIf;e.R7$(3),e.Lme("",n.states[2].label,": ",n.states[2].val,"")}}function k(t,a){if(1&t&&(e.j41(0,"div",28),e.nrm(1,"span",32),e.j41(2,"span",12),e.EFF(3),e.k0s()()),2&t){const n=e.XpG().ngIf;e.R7$(3),e.Lme("",n.states[3].label,": ",n.states[3].val,"")}}function M(t,a){if(1&t&&(e.j41(0,"div",33)(1,"div",34),e.EFF(2),e.k0s(),e.j41(3,"div",35),e.EFF(4),e.k0s()()),2&t){const n=a.$implicit;e.HbH(n.color),e.R7$(2),e.JRh(n.val),e.R7$(2),e.JRh(n.label)}}function F(t,a){if(1&t&&(e.j41(0,"main")(1,"div",5)(2,"div",6),e.qSk(),e.j41(3,"svg",7),e.nrm(4,"circle",8)(5,"circle",9),e.k0s(),e.joV(),e.j41(6,"div",10)(7,"span",11),e.EFF(8),e.nI1(9,"number"),e.k0s(),e.j41(10,"span",12),e.EFF(11,"Learned"),e.k0s()()()(),e.j41(12,"div",13)(13,"div",14)(14,"div",15),e.DNE(15,b,1,2,"div",16)(16,h,1,2,"div",17)(17,_,1,2,"div",18)(18,C,1,2,"div",19),e.k0s()(),e.j41(19,"div",20),e.DNE(20,P,4,2,"div",21)(21,x,4,2,"div",21)(22,O,4,2,"div",21)(23,k,4,2,"div",21),e.k0s()(),e.j41(24,"div",22),e.DNE(25,M,5,4,"div",23),e.k0s()()),2&t){const n=a.ngIf,r=e.XpG();e.R7$(5),e.xc7("--circumference",339.29)("--offset",r.getCircleOffset(n.overall)),e.R7$(3),e.SpI("",e.i5U(9,14,n.overall.activePercent,"1.0-0"),"%"),e.R7$(7),e.Y8G("ngIf",n.states[0].val>0),e.R7$(),e.Y8G("ngIf",n.states[1].val>0),e.R7$(),e.Y8G("ngIf",n.states[2].val>0),e.R7$(),e.Y8G("ngIf",n.states[3].val>0),e.R7$(2),e.Y8G("ngIf",n.states[0].val>0),e.R7$(),e.Y8G("ngIf",n.states[1].val>0),e.R7$(),e.Y8G("ngIf",n.states[2].val>0),e.R7$(),e.Y8G("ngIf",n.states[3].val>0),e.R7$(2),e.Y8G("ngForOf",n.states)}}let I=(()=>{class t{constructor(n){this.progressService=n,this.stats$=this.progressService.getStats()}ngOnInit(){}getCircleOffset(n){return 339.29-n/100*339.29}getBarWidth(n,r){return n/r*100}static{this.\u0275fac=function(r){return new(r||t)(e.rXU(u))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-progress"]],standalone:!0,features:[e.aNF],decls:9,vars:3,consts:[[1,"page"],[1,"container"],[1,"header"],["routerLink","/",1,"back-link"],[4,"ngIf"],[1,"progress-section"],[1,"circle-container"],["viewBox","0 0 120 120",1,"progress-circle"],["cx","60","cy","60","r","54",1,"bg-circle"],["cx","60","cy","60","r","54",1,"progress-ring"],[1,"circle-text"],[1,"percentage"],[1,"label"],[1,"bar-section"],[1,"bar-container"],[1,"bar-inner"],["class","bar-segment mastered",3,"width",4,"ngIf"],["class","bar-segment learning",3,"width",4,"ngIf"],["class","bar-segment lapses",3,"width",4,"ngIf"],["class","bar-segment unseen",3,"width",4,"ngIf"],[1,"legend"],["class","legend-item",4,"ngIf"],[1,"cards-section"],["class","card",3,"class",4,"ngFor","ngForOf"],[1,"bar-segment","mastered"],[1,"bar-segment","learning"],[1,"bar-segment","lapses"],[1,"bar-segment","unseen"],[1,"legend-item"],[1,"color-box","mastered"],[1,"color-box","learning"],[1,"color-box","lapses"],[1,"color-box","unseen"],[1,"card"],[1,"card-number"],[1,"card-label"]],template:function(r,o){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"header",2)(3,"a",3),e.EFF(4,"\u2190 Back"),e.k0s(),e.j41(5,"h1"),e.EFF(6,"Your Progress"),e.k0s()(),e.DNE(7,F,26,17,"main",4),e.nI1(8,"async"),e.k0s()()),2&r&&(e.R7$(7),e.Y8G("ngIf",e.bMT(8,1,o.stats$)))},dependencies:[m.Wk,c.MD,c.Sq,c.bT,c.Jj,c.QX],styles:["[_nghost-%COMP%]{--mastered: #4CAF50;--learning: #FFD600;--lapses: #f44336;--unseen: #ccc}.page[_ngcontent-%COMP%]{min-height:100vh;background:#fff;padding:2rem}.container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:2rem}.back-link[_ngcontent-%COMP%]{display:inline-block;margin-bottom:1rem;color:#666;text-decoration:none;font-size:.9rem}.back-link[_ngcontent-%COMP%]:hover{color:#000}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:300;margin:0}main[_ngcontent-%COMP%]{padding:2rem 0}.progress-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.circle-container[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;margin:0 auto}.progress-circle[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(-90deg)}.bg-circle[_ngcontent-%COMP%]{fill:none;stroke:#f0f0f0;stroke-width:6}.progress-ring[_ngcontent-%COMP%]{fill:none;stroke:var(--mastered);stroke-width:6;stroke-linecap:round;stroke-dasharray:var(--circumference, 339.29);stroke-dashoffset:var(--offset, 0);transition:stroke-dashoffset .5s ease}.circle-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.percentage[_ngcontent-%COMP%]{display:block;font-size:2rem;font-weight:600;color:#333}.label[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:#999;margin-top:.25rem}.bar-section[_ngcontent-%COMP%]{margin-bottom:3rem}.bar-container[_ngcontent-%COMP%]{background:#f9f9f9;border-radius:8px;padding:1rem;margin-bottom:1.5rem}.bar-inner[_ngcontent-%COMP%]{display:flex;height:20px;border-radius:4px;overflow:hidden;background:#f0f0f0}.bar-segment[_ngcontent-%COMP%]{transition:width .3s ease}.bar-segment.mastered[_ngcontent-%COMP%]{background:var(--mastered)}.bar-segment.learning[_ngcontent-%COMP%]{background:var(--learning)}.bar-segment.lapses[_ngcontent-%COMP%]{background:var(--lapses)}.bar-segment.unseen[_ngcontent-%COMP%]{background:var(--unseen)}.legend[_ngcontent-%COMP%]{display:flex;gap:2rem;flex-wrap:wrap}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.9rem}.color-box[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:2px}.color-box.mastered[_ngcontent-%COMP%]{background:var(--mastered)}.color-box.learning[_ngcontent-%COMP%]{background:var(--learning)}.color-box.lapses[_ngcontent-%COMP%]{background:var(--lapses)}.color-box.unseen[_ngcontent-%COMP%]{background:var(--unseen)}.cards-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:1rem;margin-top:2rem}.card[_ngcontent-%COMP%]{padding:1.5rem;border-radius:8px;text-align:center;color:#fff}.card.mastered[_ngcontent-%COMP%]{background:var(--mastered)}.card.learning[_ngcontent-%COMP%]{background:var(--learning);color:#333}.card.lapses[_ngcontent-%COMP%]{background:var(--lapses)}.card.unseen[_ngcontent-%COMP%]{background:var(--unseen);color:#333}.card-number[_ngcontent-%COMP%]{font-size:2rem;font-weight:600}.card-label[_ngcontent-%COMP%]{font-size:.85rem;margin-top:.5rem;opacity:.9}"]})}}return t})()}}]);