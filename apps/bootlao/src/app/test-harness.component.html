<div class="test-harness">
  <div class="control-panel">
    <h2>üß™ Award System Test Harness</h2>
    
    <div class="control-section">
      <h3>Progress Step Control (1-50)</h3>
      <div class="slider-container">
        <input
          #progressSlider
          type="range"
          min="1" 
          max="50" 
          [value]="progressStep"
          (input)="progressStep = +progressSlider.value"
          class="slider"
        />
        <span class="speed-value">Step {{ progressStep }}/50 ({{ (progressStep / 50 * 100).toFixed(0) }}%)</span>
      </div>
    </div>

    <div class="control-section">
      <h3>Simulated Date</h3>
      <div style="font-size: 18px; font-weight: 600; color: #333; padding: 10px 0;">
        {{ simulatedDate.toLocaleDateString() }}
      </div>
    </div>

    <div class="control-section">
      <button 
        (click)="startAutoSimulation()"
        [class.active]="isAutoSimulating"
        class="btn btn-large"
      >
        {{ isAutoSimulating ? '‚è∏ Stop Auto Simulation' : '‚ñ∂ Start Auto Simulation' }}
      </button>
      
      <button 
        (click)="rapidFireTest()"
        class="btn"
      >
        üî• Rapid Fire (20 activities)
      </button>
    </div>

    <div class="control-section">
      <h3>Manual Lesson Triggers</h3>
      <div class="lesson-info">
        <strong>Current:</strong> {{ currentPath }} - Level {{ currentLevel }}
      </div>
      <div class="activity-buttons">
        <div *ngFor="let lesson of getAvailableLessons()" class="activity-group">
          <span class="activity-name">{{ lesson.title }}</span>
          <button 
            *ngFor="let step of [1, 5, 10]"
            (click)="sendLessonActivity(lesson, step)"
            class="btn btn-small"
          >
            Step {{ step }}
          </button>
        </div>
      </div>
    </div>

    <div class="control-section">
      <h3>Activity Console</h3>
      <div class="console">
        <div class="console-line" *ngFor="let line of consoleLog">{{ line }}</div>
        <div class="console-line console-ready" *ngIf="consoleLog.length === 0">‚óè Ready</div>
      </div>
    </div>

    <div class="control-section">
      <h3>Last Activity JSON</h3>
      <div class="json-display">
        <code>{{ lastActivityJSON }}</code>
      </div>
    </div>

    <div class="info-section">
      <p>
        <strong>What's happening:</strong> The system is receiving learning activity updates 
        and dynamically updating the scoreboard. Progress bars, medals, and activity logs 
        are animated in real-time. Try different speeds to see smooth animations.
      </p>
    </div>
  </div>

  <div class="scoreboard-wrapper">
    <app-scoreboard></app-scoreboard>
  </div>
</div>
